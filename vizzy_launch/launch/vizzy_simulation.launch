<?xml version="1.0"?>
<!-- ROS head file to simulate vizzy in gazebo   -->
<launch>
  <!-- robot configuration parameters -->
	<arg name="robot" default="vizzy"/> <!-- full, lower_body, foot -->

  <!-- simulation parameters and robot configuration parameters -->
	<arg name="use_yarp" default="false"/>
  <arg name="navigation" default="false"/>
  <arg name="slam" default="false"/>
  <arg name="pose" default="-x 0.0 -y 0.0 -z 0.15 -R 0.0 -P 0.0 -Y 1.57"/>
  <arg name="paused" default="false"/>
  <arg name="use_sim_time" default="true"/>
  <arg name="gui" default="true"/>
  <arg name="world" default="vizzy_test_world.world" />
  <arg name="yarp" default="false"/>

	<!-- bringup robot in gazebo simulator -->
  <include file="$(find vizzy_gazebo)/launch/gazebo.launch">
	  <arg name="use_yarp" value="$(arg use_yarp)"/>
    <arg name="robot" value="$(arg robot)"/>
    <arg name="pose" value="$(arg pose)"/>
    <arg name="paused" value="$(arg paused)"/>
  	<arg name="use_sim_time" value="$(arg use_sim_time)" />
  	<arg name="gui" value="$(arg gui)" />
  	<arg name="world" value="$(arg world)" />
  </include>

  <!-- launch the laser filter to get rid of readings from the robot itself -->
  <group if="$(arg navigation)">
    <include file="$(find vizzy_sensors)/launch/hokuyo/hokuyo-filters.launch" />
    <!-- bringup navigation modules -->
    <!-- TO DO -->
    <group if="$(arg slam)">
    </group>
    <group unless="$(arg slam)">
    </group>
  </group>

	<!-- Launch rviz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find vizzy_launch)/rviz/vizzy.rviz" />
</launch>
